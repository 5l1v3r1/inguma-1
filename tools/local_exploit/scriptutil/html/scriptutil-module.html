<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>scriptutil</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://hrnjad.net/src/scriptutil">Module scriptutil</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Script&nbsp;scriptutil
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="scriptutil-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module scriptutil</h1><span class="codelink"><a href="scriptutil-pysrc.html">source&nbsp;code</a></span><br /><br />
<p>Copyright (c) 2008, Muharem Hrnjadovic</p>
  <p>All rights reserved.</p>
  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are 
  met:
  <ul>
    <li>
      Redistributions of source code must retain the above copyright 
      notice, this list of conditions and the following disclaimer.
    </li>
    <li>
      Redistributions in binary form must reproduce the above copyright 
      notice, this list of conditions and the following disclaimer in the 
      documentation and/or other materials provided with the 
      distribution.
    </li>
    <li>
      Neither the name of Muharem Hrnjadovic nor the names of other 
      contributors may be used to endorse or promote products derived from 
      this software without specific prior written permission.
    </li>
  </ul>
  <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 
  &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT 
  NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT 
  OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, 
  SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED 
  TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF 
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING 
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS 
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
  
  <p>---------------------------------------------------------------------------</p>
  Module providing functions commonly used in shell scripting:
  <ul>
    <li>
      ffind()    : finds files in a directory tree
    </li>
    <li>
      ffindgrep(): finds files in a directory tree and matches their 
      content to regular expressions
    </li>
    <li>
      freplace() : in-place search/replace of files in a directory tree 
      with regular expressions
    </li>
    <li>
      printr()   : prints the results of the ffind()/ffindgrep() 
      functions
    </li>
  </ul>
  Please see the <a 
  href="http://muharem.wordpress.com/2007/05/20/python-find-files-using-unix-shell-style-wildcards/"
  target="_top">tutorial</a> as well as the documentation strings of the 
  particular functions for detailed information.<br /><br />

<hr />
<div class="fields">      <p><strong>Version:</strong>
        1.1
      </p>
</div><!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="scriptutil.ScriptError-class.html" class="summary-name">ScriptError</a><br />
      The exception raised in case of failures.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">sequence</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="scriptutil-module.html#ffind" class="summary-sig-name">ffind</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">shellglobs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">namefs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">relative</span>=<span class="summary-sig-default">True</span>)</span><br />
      Find files in the directory tree starting at 'path' (filtered by 
      Unix shell-style wildcards ('shellglobs') and/or the functions in the
      'namefs' sequence).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="scriptutil-pysrc.html#ffind">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="scriptutil-module.html#ffindgrep" class="summary-sig-name">ffindgrep</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">regexl</span>,
        <span class="summary-sig-arg">shellglobs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">namefs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">relative</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">linenums</span>=<span class="summary-sig-default">False</span>)</span><br />
      Find files in the directory tree starting at 'path' (filtered by 
      Unix shell-style wildcards ('shellglobs') and/or the functions in the
      'namefs' sequence) and search inside these.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="scriptutil-pysrc.html#ffindgrep">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">number</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="scriptutil-module.html#freplace" class="summary-sig-name">freplace</a>(<span class="summary-sig-arg">path</span>,
        <span class="summary-sig-arg">regexl</span>,
        <span class="summary-sig-arg">shellglobs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">namefs</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">bext</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">.bak</code><code class="variable-quote">'</code></span>)</span><br />
      Find files in the directory tree starting at 'path' (filtered by 
      Unix shell-style wildcards ('shellglobs') and/or the functions in the
      'namefs' sequence) and perform an in-place search/replace operation 
      on these.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="scriptutil-pysrc.html#freplace">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="scriptutil-module.html#printr" class="summary-sig-name">printr</a>(<span class="summary-sig-arg">results</span>)</span><br />
      Print the results of the ffind()/ffindgrep() functions.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="scriptutil-pysrc.html#printr">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="ffind"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ffind</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">shellglobs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">namefs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">relative</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="scriptutil-pysrc.html#ffind">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Find files in the directory tree starting at 'path' (filtered by Unix 
  shell-style wildcards ('shellglobs') and/or the functions in the 'namefs'
  sequence).</p>
  <p>Please not that the shell wildcards work in a cumulative fashion i.e. 
  each of them is applied to the full set of file *names* found.</p>
  Conversely, all the functions in 'namefs'
  <ul>
    <li>
      only get to see the output of their respective predecessor 
      function in the sequence (with the obvious exception of the first 
      function)
    </li>
    <li>
      are applied to the full file *path* (whereas the shell-style 
      wildcards are only applied to the file *names*)
    </li>
  </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - starting path of the directory tree to be searched</li>
        <li><strong class="pname"><code>shellglobs</code></strong> (sequence) - an optional sequence of Unix shell-style wildcards that are to
          be applied to the file *names* found</li>
        <li><strong class="pname"><code>namefs</code></strong> (sequence) - an optional sequence of functions to be applied to the file 
          *paths* found</li>
        <li><strong class="pname"><code>relative</code></strong> (bool) - a boolean flag that determines whether absolute or relative 
          paths should be returned</li>
    </ul></dd>
    <dt>Returns: sequence</dt>
        <dd>paths for files found</dd>
  </dl>
</td></tr></table>
</div>
<a name="ffindgrep"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ffindgrep</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">regexl</span>,
        <span class="sig-arg">shellglobs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">namefs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">relative</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">linenums</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="scriptutil-pysrc.html#ffindgrep">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Find files in the directory tree starting at 'path' (filtered by Unix 
  shell-style wildcards ('shellglobs') and/or the functions in the 'namefs'
  sequence) and search inside these.</p>
  Additionaly, the file content will be filtered by the regular 
  expressions in the 'regexl' sequence. Each entry in the latter is a
  <ul>
    <li>
      either a string (with the regex definition)
    </li>
    <li>
      or a tuple with arguments accepted by re.compile() (the re.M and 
      re.S flags will have no effect though)
    </li>
  </ul>
  For all the files that pass the file name/content tests the function 
  returns a dictionary where the
  <ul>
    <li>
      key is the file name and the
    </li>
    <li>
      value is a string with lines filtered by 'regexl'
    </li>
  </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - starting path of the directory tree to be searched</li>
        <li><strong class="pname"><code>shellglobs</code></strong> (sequence) - an optional sequence of Unix shell-style wildcards that are to
          be applied to the file *names* found</li>
        <li><strong class="pname"><code>namefs</code></strong> (sequence) - an optional sequence of functions to be applied to the file 
          *paths* found</li>
        <li><strong class="pname"><code>relative</code></strong> (bool) - a boolean flag that determines whether absolute or relative 
          paths should be returned</li>
        <li><strong class="pname"><code>linenums</code></strong> (bool) - turns on line numbers for found files (like grep -n)</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>file name (key) and lines filtered by 'regexl' (value)</dd>
  </dl>
</td></tr></table>
</div>
<a name="freplace"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">freplace</span>(<span class="sig-arg">path</span>,
        <span class="sig-arg">regexl</span>,
        <span class="sig-arg">shellglobs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">namefs</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">bext</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">.bak</code><code class="variable-quote">'</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="scriptutil-pysrc.html#freplace">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Find files in the directory tree starting at 'path' (filtered by Unix 
  shell-style wildcards ('shellglobs') and/or the functions in the 'namefs'
  sequence) and perform an in-place search/replace operation on these.</p>
  <p>Additionally, an in-place search/replace operation is performed on the
  content of all the files (whose names passed the tests) using the regular
  expressions in 'regexl'.</p>
  Please note: 'regexl' is a sequence of 3-tuples, each having the 
  following elements:
  <ul>
    <li>
      search string (Python regex syntax)
    </li>
    <li>
      replace string (Python regex syntax)
    </li>
    <li>
      regex flags or 'None' (re.compile syntax)
    </li>
  </ul>
  Copies of the modified files are saved in backup files using the 
  extension specified in 'bext'.
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>path</code></strong> (string) - starting path of the directory tree to be searched</li>
        <li><strong class="pname"><code>shellglobs</code></strong> (sequence) - an optional sequence of Unix shell-style wildcards that are to
          be applied to the file *names* found</li>
        <li><strong class="pname"><code>namefs</code></strong> (sequence) - an optional sequence of functions to be applied to the file 
          *paths* found</li>
    </ul></dd>
    <dt>Returns: number</dt>
        <dd>total number of files modified</dd>
  </dl>
</td></tr></table>
</div>
<a name="printr"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">printr</span>(<span class="sig-arg">results</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="scriptutil-pysrc.html#printr">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Print the results of the ffind()/ffindgrep() functions.</p>
  The output format is similar to the one used by the UNIX find 
  utility.
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://hrnjad.net/src/scriptutil">Module scriptutil</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Fri May 23 10:43:13 2008
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
